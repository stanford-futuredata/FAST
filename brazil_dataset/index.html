
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.9">
    
    
      
        <title>0.9 BrazilAcre Data Set - FAST</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.20d9efc8.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.08040f6c.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="red">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#09-brazilacre-data-set" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="FAST" class="md-header__button md-logo" aria-label="FAST" data-md-component="logo">
      
  <img src="../logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            FAST
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              0.9 BrazilAcre Data Set
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="red"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
            </label>
          
        
          
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="red" data-md-color-accent="red"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/stanford-futuredata/FAST" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    FAST GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="FAST" class="md-nav__button md-logo" aria-label="FAST" data-md-component="logo">
      
  <img src="../logo.png" alt="logo">

    </a>
    FAST
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/stanford-futuredata/FAST" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    FAST GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../fast_overview/" class="md-nav__link">
        FAST Overview
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Install
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Install" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Install
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../setup_colab/" class="md-nav__link">
        Google Colab
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../setup_linux/" class="md-nav__link">
        Linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../setup_docker/" class="md-nav__link">
        Docker
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/" class="md-nav__link">
        Tutorial
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          How to Set Parameters
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="How to Set Parameters" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          How to Set Parameters
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../FAST_checklist/" class="md-nav__link">
        FAST Checklist
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../get_seismic_data/" class="md-nav__link">
        Getting Seismic Data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../input_and_preprocess/" class="md-nav__link">
        Input and Preprocessing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../f_p/" class="md-nav__link">
        Fingerprint
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../sim_search/" class="md-nav__link">
        Similarity Search
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../network_detection/" class="md-nav__link">
        Network Detection
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../FAST_output/" class="md-nav__link">
        FAST Output
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../phase_picking/" class="md-nav__link">
        Phase Picking
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../earthquake_location/" class="md-nav__link">
        Earthquake Location
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_10" type="checkbox" id="__nav_4_10" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4_10">
          Example Parameters
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Example Parameters" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_10">
          <span class="md-nav__icon md-icon"></span>
          Example Parameters
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ex_params_intro/" class="md-nav__link">
        0.1 Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../italy_day_yr_dataset/" class="md-nav__link">
        0.2 ItalyDayYR Data Set
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tanzania_dataset/" class="md-nav__link">
        0.3 Tanzania, August 2016
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../saudi_dataset/" class="md-nav__link">
        0.4 Saudi Arabia, May 2014
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../saudifull_dataset/" class="md-nav__link">
        0.5 SaudiFull Data Set: Saudi Arabia, January - May 2017
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ometepec_dataset/" class="md-nav__link">
        0.6 Ometepec, Mexico, January - April 2012
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../wenchuan_dataset/" class="md-nav__link">
        0.7 SeismOlympics: Wenchuan Aftershocks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../groningen_dataset/" class="md-nav__link">
        0.8 Groningen Data Set
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          0.9 BrazilAcre Data Set
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        0.9 BrazilAcre Data Set
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#091-preprocessing" class="md-nav__link">
    0.9.1 Preprocessing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#092-fingerprint" class="md-nav__link">
    0.9.2 Fingerprint
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#093-similarity-search" class="md-nav__link">
    0.9.3 Similarity Search
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#094-postprocessing" class="md-nav__link">
    0.9.4 Postprocessing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#095-remove-duplicates-after-network-detection" class="md-nav__link">
    0.9.5 Remove duplicates after network detection
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#096-visual-inspection-and-final-detections" class="md-nav__link">
    0.9.6 Visual inspection and final detections
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../newzealand_dataset/" class="md-nav__link">
        0.10 New Zealand, Year 2010
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../calipatria_dataset/" class="md-nav__link">
        0.11 Calipatria, June 2021
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../references/" class="md-nav__link">
        References
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#091-preprocessing" class="md-nav__link">
    0.9.1 Preprocessing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#092-fingerprint" class="md-nav__link">
    0.9.2 Fingerprint
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#093-similarity-search" class="md-nav__link">
    0.9.3 Similarity Search
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#094-postprocessing" class="md-nav__link">
    0.9.4 Postprocessing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#095-remove-duplicates-after-network-detection" class="md-nav__link">
    0.9.5 Remove duplicates after network detection
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#096-visual-inspection-and-final-detections" class="md-nav__link">
    0.9.6 Visual inspection and final detections
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/stanford-futuredata/FAST/edit/master/docs/brazil_dataset.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="09-brazilacre-data-set">0.9 BrazilAcre Data Set<a class="headerlink" href="#09-brazilacre-data-set" title="Permanent link">&para;</a></h1>
<ul>
<li>Location: Acre, Brazil (search for intermediate-depth and deep earthquakes)  </li>
<li>Duration: about 3 months (with time gaps): 2015-05-28 to 2016-02-01  </li>
<li>Network: 1 station (Figure 14), 3 components (HHE, HHN, HHZ) = 3 channels. • Sampling rate: 100 Hz  </li>
<li>Provided by: Marcelo de Bianchi (University of Sao Paulo)  </li>
</ul>
<p><img alt="ex_param_7" src="../img/ex_param_7.png" />  </p>
<figcaption>Figure 14: Acre, Brazil map provided by Marcelo de Bianchi: 1 station (yellow triangle) used for FAST detection, and locations of known catalog events (circles colored by depth).</figcaption>

<h3 id="091-preprocessing">0.9.1 Preprocessing<a class="headerlink" href="#091-preprocessing" title="Permanent link">&para;</a></h3>
<ul>
<li>Output continuous data duration: different stations used for detection have different durations and time gaps (need to modify paths in get_continuous_data_times.py):  </li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>~/FAST/utils/preprocess/$ ../../parameters/preprocess/BrazilAcre/continuous_data_times_BrazilAcre.sh
</code></pre></div>
<p>The output files in continuous_duration/ can be read into a custom script called plot_continuous_ duration_BrazilAcre.py to plot the duration of available continuous data at each station and channel (Figure 15).  </p>
<p><img alt="fig_15" src="../img/fig_15.png" />  </p>
<figcaption>Figure 15: Duration of BrazilAcre continuous data at 1 station (3 components). White sections indicate time gaps.</figcaption>

<ul>
<li>Confirmed no zero-filled time-gap sections of continuous data in all 3 channels (need to modify paths in fill_ time_gaps_with_uncorrelated_noise.py):  </li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>~/FAST/utils/preprocess/$ python fill_time_gaps_with_uncorrelated_noise.py
</code></pre></div>
<p><strong>Use original mseed data files.</strong></p>
<ul>
<li>Output sample spectrograms on each channel and station to determine bandpass filter range (need to modify
paths in plot_sample_spectrograms.py):  </li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>~/FAST/utils/preprocess/$ ../../parameters/preprocess/BrazilAcre/sample_spectrograms_BrazilAcre.sh
</code></pre></div>
<ul>
<li>Apply bandpass filter and decimate (need to modify paths in bandpass_filter_decimate.py):  </li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>~/FAST/utils/preprocess/$ ../../parameters/preprocess/BrazilAcre/bandpass_filter_decimate_BrazilAcre.sh
</code></pre></div>
<p>Based on sample spectrograms, filter 3-20 Hz for all 3 channels. Decimate by a factor of 2, to 50 Hz sampling rate. Filtered continuous data files start with Deci2.bp3to20.*, which are input to the fingerprint step.  </p>
<ul>
<li>Need to add <code>.mseed</code> extension to all time series files, otherwise the Julian day number in the time series file gets removed while fingerprinting, and we cannot tell the difference between fingerprints from different days.  </li>
</ul>
<h3 id="092-fingerprint">0.9.2 Fingerprint<a class="headerlink" href="#092-fingerprint" title="Permanent link">&para;</a></h3>
<p>Master script to create fingerprints on each channel, then generate global indices at the end:  </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>~/FAST/fingerprint/$ ../parameters/fingerprint/BrazilAcre/run_fp_BrazilAcre.sh
</code></pre></div>
<p>Example script to generate fingerprints on one channel (HHE) at one station (CZSB), called by the master script run_fp_BrazilAcre.sh:  </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>~/FAST/fingerprint/$ python gen_fp.py ../parameters/fingerprint/BrazilAcre/fp_input_BR_CZSB_HHE.json
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>    &quot;fingerprint&quot;: {
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>       &quot;sampling_rate&quot;: 50,
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>       &quot;min_freq&quot;: 3.0,
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>       &quot;max_freq&quot;: 20.0,
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>       &quot;spec_length&quot;: 10.0,
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>       &quot;spec_lag&quot;: 0.2,
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>       &quot;fp_length&quot;: 128,
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>         Continuous Data (Network.Station.Channel)
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>       &quot;fp_lag&quot;: 10,
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>       &quot;k_coef&quot;: 800,
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>       &quot;nfreq&quot;: 32,
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a>       &quot;mad_sampling_rate&quot;: 0.1,
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>       &quot;mad_sample_interval&quot;: 86400
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a>    &quot;data&quot;: {
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a>       &quot;station&quot;: &quot;CZSB&quot;,
<a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a>       &quot;channel&quot;: &quot;HHE&quot;,
<a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a>       &quot;start_time&quot;: &quot;15-10-28T00:00:00.0&quot;,
<a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a>       &quot;end_time&quot;: &quot;16-02-01T00:00:03.0&quot;,
<a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a>       &quot;folder&quot;: &quot;/lfs/1/ceyoon/TimeSeries/BrazilAcre/CZSB/&quot;,
</code></pre></div>
<p>There are a total of 3 <code>fp_input_NETWORK_STATION_CHANNEL.json</code> fingerprint input files, one for each channel and station, all with the same input fingerprint parameters in Table S25.  </p>
<p>Table S25: Fingerprint input parameters for BrazilAcre earthquake detection: 3-component at 1 station (Figure 14, yellow triangle), after bandpass filter 3-20 Hz, and decimated to 50 Hz sampling rate. The fingerprint sampling period is dt_fp = 2 seconds.  </p>
<p><img alt="table_25" src="../img/table_25.png" />  </p>
<p>Median/MAD output files: <code>mad/mad*.txt</code><br />
Fingerprints (binary files): <code>fingerprints/CZSB.HHE.fp</code><br />
Timestamps at each fingerprint index (text files): <code>timestamps/CZSB.HHE.ts</code>  </p>
<p>Finally, to create global indices for the BrazilAcre data set, so that fingerprint indices from different channels (all 3) and stations are referenced to a common starting time:  </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>$ python global_index.py ../parameters/fingerprint/BrazilAcre/global_indices_BrazilAcre.json
</code></pre></div>
<p>The common starting time is in global_idx_stats.txt: 2015-10-28T00:00:21.340000 UTC  </p>
<h3 id="093-similarity-search">0.9.3 Similarity Search<a class="headerlink" href="#093-similarity-search" title="Permanent link">&para;</a></h3>
<p>Master script to run similarity search on each channel (out of 3 total):  </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>~/FAST/simsearch/$ ../parameters/simsearch/BrazilAcre/run_simsearch_BrazilAcre.sh
</code></pre></div>
<p>Example script to run similarity search on one channel (HHE) at one station (CZSB), called by the master script <code>run_simsearch_BrazilAcre.sh</code>:  </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>~/FAST/simsearch/$ ../parameters/simsearch/BrazilAcre/filt_simsearch_input_BrazilAcre.sh CZSB HHE
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>NTBLS=100
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>NHASH=4
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>NREPEAT=5
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>NVOTES=2
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>NTHREAD=56
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>NUM_PART=1
</code></pre></div>
<p>Table S26: Similarity search input parameters for BrazilAcre earthquake detection: 3 channels at 1 station (3
components each).  </p>
<p><img alt="table_26" src="../img/table_26.png" />  </p>
<p>The same input parameters are used for similarity search on all 3 channels (Table S26).  </p>
<h3 id="094-postprocessing">0.9.4 Postprocessing<a class="headerlink" href="#094-postprocessing" title="Permanent link">&para;</a></h3>
<p><strong>First</strong>, run the master script to convert similarity search output from binary format to text format (3 columns: dt = idx1 − idx2, idx1, sim, sorted in increasing dt order) for each channel (3 total):  </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>~/FAST/postprocessing/$ ../parameters/postprocess/BrazilAcre/output_BrazilAcre_pairs.sh  
</code></pre></div>
<p>For example, on one channel (HHE) at one station (CZSB), all on one line:  </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>~/FAST/postprocessing/$ python parse_results.py
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>-d /lfs/1/ceyoon/TimeSeries/BrazilAcre/CZSB/fingerprints/
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>-p candidate_pairs_CZSB_HHE -i /lfs/1/ceyoon/TimeSeries/BrazilAcre/global_indices/CZSB_HHE_idx_mapping.txt
</code></pre></div>
<p><mark>Output file for example (large size at channel level):</mark> /<code>lfs/1/ceyoon/TimeSeries/BrazilAcre/CZSB/fingerprints/ candidate_pairs_CZSB_HHE_merged.txt</code>  </p>
<p><strong>Second</strong>, run the master script to combine similarity output from all 3 components at a given station, for 1 station:  </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>~/FAST/postprocessing/$ ../parameters/postprocess/BrazilAcre/combine_BrazilAcre_pairs.sh
</code></pre></div>
<p>For example, on three channels (HHE, HHN, HHZ) at one station (CZSB), first move the similarity output text files to the inputs_network/ directory:  </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>$ cd /lfs/1/ceyoon/TimeSeries/BrazilAcre/CZSB/fingerprints/
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>$ mv candidate_pairs_CZSB_HH*_merged.txt ../../../inputs_network/
</code></pre></div>
<p>Then for each similar fingerprint pair, add the similarity from all 3 components at the same station, with a similarity threshold of 6 = (3 components)*(v=2 votes/component, Table S26). Note: this step will delete the <code>candidate_ pairs_CZSB_HH*_merged.txt</code> files.  </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>~/FAST/postprocessing/$ python parse_results.py
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>-d /lfs/1/ceyoon/TimeSeries/BrazilAcre/inputs_network/
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>-p candidate_pairs_CZSB --sort true --parse false -c true -t 6
</code></pre></div>
<p><mark>Output file for example (smaller size at station level):</mark> <code>/lfs/1/ceyoon/TimeSeries/BrazilAcre/inputs_network/ candidate_pairs_CZSB_combined.txt</code>  </p>
<p>Finally, detect similar fingerprints across the network of 1 station, using the input parameters in Table S27 (Note: this step only aggregates similar event pairs from similar fingerprints, and resolves the pairs into a list of candidate events, since there is only 1 station.):  </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>~/FAST/postprocessing/$
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>python scr_run_network_det.py ../parameters/postprocess/BrazilAcre/1sta_1stathresh_network_params.json
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>       &quot;network&quot;: {
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>              &quot;max_fp&quot;: 4147182,
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>              &quot;dt_fp&quot;: 2.0, (seconds)
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>              &quot;dgapL&quot;: 10, (20 s)
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>              &quot;dgapW&quot;: 3, (6 s)
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>              &quot;num_pass&quot;: 2,
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a>              &quot;min_dets&quot;: 3,
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a>              &quot;min_sum_multiplier&quot;: 1,
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a>              &quot;max_width&quot;: 8, (16 s)
<a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a>              &quot;ivals_thresh&quot;: 6,
<a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a>              &quot;nsta_thresh&quot;: 1,
<a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a>              &quot;input_offset&quot;: 15 (30 s) &lt;--- NOT USED
<a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a>},  
</code></pre></div>
<p>Table S27: Network detection input parameters for BrazilAcre at 1 station. max_fp = 4147182 is the largest fingerprint index over all channels from *mapping.txt files in the global_indices directory. dt_fp = 2 seconds is the fingerprint sampling period from Table S25.  </p>
<p><img alt="table_27" src="../img/table_27.png" />  </p>
<p>Network detection output file: <code>/lfs/1/ceyoon/TimeSeries/BrazilAcre/network_detection/1sta_1stathresh_detlist_rank_by_peaksum.tx</code>t (14,477 events)  </p>
<p>At this point, FAST earthquake detection processing is done.  </p>
<h3 id="095-remove-duplicates-after-network-detection">0.9.5 Remove duplicates after network detection<a class="headerlink" href="#095-remove-duplicates-after-network-detection" title="Permanent link">&para;</a></h3>
<p>Sort events in descending order of peaksum (peak similarity score between similar fingerprints) for the final detection list.  </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>~/FAST/utils/network/$ ./final_single_station_sort_nsta_peaksum.sh
</code></pre></div>
<p><mark>Output:</mark> <code>sort_peaksum_1sta_1stathresh_CZSB_events.txt</code> (14,477 events)  </p>
<h3 id="096-visual-inspection-and-final-detections">0.9.6 Visual inspection and final detections<a class="headerlink" href="#096-visual-inspection-and-final-detections" title="Permanent link">&para;</a></h3>
<p>Plot event waveforms in the final detection list, ranked in descending order of peaksum (peak similarity score between similar fingerprints), for visual inspection. Need to verify by looking at the waveforms that these are indeed earthquakes, and also enables setting final detection thresholds (peaksum ≥ 6).  </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>~/FAST/utils/events/$ python PARTIALplot_detected_waveforms_BrazilAcre.py 0 14477
</code></pre></div>
<p><mark>Output:</mark> <code>.png</code> image files in <code>1sta_1stathresh_NetworkWaveformPlots/</code> (zip file)  </p>
<p>Visual inspection shows that there are many false detections that do not look like earthquake waveforms (for example, <code>event_rank00000_peaksum116351_ind854248_time1708496.0_2015-11-16T18/35/17.340000.png</code>). However, some earthquake waveforms (for example, <code>event_rank00049_peaksum26898_ind1297608_time2595216</code>. <code>0_2015-11-27T00/53/57.340000.png</code>) are also detected. <strong>I suggest running FAST on at least 3 stations for reliable earthquake detection.</strong>  </p>
<p>14,474 events are above the arbitrary low threshold (peaksum ≥ 6).  </p>
<ul>
<li><code>EQ_sort_peaksum_1sta_1stathresh_CZSB_events.txt</code>  </li>
</ul>
<p>For the 14,474 events, output a catalog-like formatted list:  </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>~/FAST/utils/events/$ python output_final_detection_list.py
</code></pre></div>
<p><mark>Output:</mark> <code>FINAL_Detection_List_BrazilAcre_1sta_1stathresh_peaksum6.txt</code> (14,474 events)  </p>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../groningen_dataset/" class="md-footer__link md-footer__link--prev" aria-label="Previous: 0.8 Groningen Data Set" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              0.8 Groningen Data Set
            </div>
          </div>
        </a>
      
      
        
        <a href="../newzealand_dataset/" class="md-footer__link md-footer__link--next" aria-label="Next: 0.10 New Zealand, Year 2010" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              0.10 New Zealand, Year 2010
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.tabs.link"], "search": "../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.d6c3db9e.min.js"></script>
      
    
  </body>
</html>